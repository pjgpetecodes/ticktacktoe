<!DOCTYPE html>
<html>
<head>
    <style>
        body { margin: 20px; }
        button { margin: 5px; padding: 10px; }
    </style>
</head>
<body>
    <h2>Test Winning Combinations</h2>
    <iframe src="http://localhost:8000" width="600" height="400" id="game"></iframe>
    <br>
    <button onclick="testHorizontalWin()">Test Horizontal Win (Top Row)</button>
    <button onclick="testVerticalWin()">Test Vertical Win (Left Column)</button>
    <button onclick="testDiagonalWin()">Test Diagonal Win (Main)</button>
    <button onclick="restart()">Restart Game</button>
    
    <script>
        function getFrame() {
            return document.getElementById('game').contentWindow;
        }
        
        function clickCell(index) {
            const frame = getFrame();
            const cell = frame.document.querySelector(`[data-index="${index}"]`);
            if (cell) cell.click();
        }
        
        function restart() {
            const frame = getFrame();
            const restartBtn = frame.document.getElementById('restart-btn');
            if (restartBtn) restartBtn.click();
        }
        
        function testHorizontalWin() {
            restart();
            setTimeout(() => {
                clickCell(0); // X
                setTimeout(() => clickCell(3), 100); // O
                setTimeout(() => clickCell(1), 200); // X
                setTimeout(() => clickCell(4), 300); // O
                setTimeout(() => clickCell(2), 400); // X wins top row
            }, 100);
        }
        
        function testVerticalWin() {
            restart();
            setTimeout(() => {
                clickCell(0); // X
                setTimeout(() => clickCell(1), 100); // O
                setTimeout(() => clickCell(3), 200); // X
                setTimeout(() => clickCell(2), 300); // O
                setTimeout(() => clickCell(6), 400); // X wins left column
            }, 100);
        }
        
        function testDiagonalWin() {
            restart();
            setTimeout(() => {
                clickCell(0); // X
                setTimeout(() => clickCell(1), 100); // O
                setTimeout(() => clickCell(4), 200); // X
                setTimeout(() => clickCell(2), 300); // O
                setTimeout(() => clickCell(8), 400); // X wins main diagonal
            }, 100);
        }
    </script>
</body>
</html>
